# 注意事项

## 通过 Slurm 系统使用 GPU 资源！

请参考[这里](gpu)。

## 磁盘配额

服务器部署了中心化的存储节点`air-storage`，并通过NFS挂载在所有机器的`/home`目录下。

目前，各个实验室在使用存储时均有`3000G`的软配额与`5000G`的硬配额。当存储使用量超过软配额时，有7天的过渡时间将存储使用量下降到配额内；当存储使用量超过软配额7天，或存储使用量超过硬配额，用户将不能再向磁盘写入更多数据。

```shell
# 查看当前用户组的磁盘配额
ssh air-storage quota -gs
```

## 内存占用较大可能会被终止

为了避免阻塞操作，集群中的跳板机上部署了 [earlyoom - The Early OOM Daemon](https://github.com/rfjakob/earlyoom) 避免内存占用过多。

如果在跳板机上测试程序，请注意当可用内存低于 10% 时，内存占用最多的进程将被杀死。

如果使用 Slurm 系统中跳板机，每申请一张 GPU 会配给 20GB 的内存，使用超出配给内存的任务将被杀死。如果需要申请更多内存，请参考[这里](gpu)。

!!! tips "保存 checkpoints 以减少实验进程被杀死后的损失"

## 做好宕机等灾难发生的准备

我们尽可能保证服务器的高可靠性，但是我们并不能保证服务器永不宕机。

为了实验数据以及进度的安全，请做好包括但不限于以下几种准备：

1. 使用 GitHub 等平台云端托管代码，防止硬盘损坏造成代码丢失。
2. 在跑实验时适度保存 checkpoints ，以在宕机等意外发生之后能快速恢复到之前的实验状态。

